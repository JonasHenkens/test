<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"base_automation.js.html":{"id":"base_automation.js.html","title":"Source: base/automation.js","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Source: base/automation.js /** * Automation. * @namespace */ var Automation = { namespace: 'Automation', _DA: null, _GEN: null, _SETTINGS: null, _initialPlaytime: playtime, _onCommandFunctions: {}, /** * Initialize Automation */ init: function () { this._DA = Main.getModule('DataAccess'); this._GEN = Main.getModule('GeneralFunctions'); this._SETTINGS = Main.getModule('Settings'); this._initSettings(); this._initCommandProcessing() }, _initSettings: function () { this._SETTINGS.addCategory('Automation', 'Automation') }, /** * Run a function periodically and control it's execution and delay. * The delay is in milliseconds. * @param {string} delayKey - The DataAccess key that contains delay amount. * @param {string} enableKey - The DataAccess key that contains a true/false to control execution. * @param {function} func - The function to run periodically. * @param {int} [delayMultiplier=1] - The delay stored at the key location will be multiplied by this value. */ automateControlled: function (delayKey, enableKey, func, delayMultiplier = 1) { if (this._DA.get(enableKey)) { func(); } setTimeout(function () { this._automateControlled(delayKey, enableKey, func, delayMultiplier) }, this._DA.get(delayKey) * delayMultiplier); }, /** * Run a function periodically. * @param {int} delay - Delay between executions. * @param {function} func - The function to run periodically. */ automate: function (delay, func) { func(); setTimeout(function () { this._automate(delay, func) }, delay); }, /** * Run function when a specific command is called. * @param {function} func - A function with as parameters: (string, array) where the string is the command and the array is all command parameters. * @param {string} [command=''] - The command (empty string (default) is any command) */ onCommand: function (func, command = '') { if (typeof this._onCommandFunctions[command] == 'undefined') this._onCommandFunctions[command] = []; this._onCommandFunctions[command].push(func); }, _initCommandProcessing: function () { this._GEN.extendFunction(window, 'doCommand', this._processCommand); }, _processCommand: function (cmdStr) { var cmd = cmdStr.split(\"=\")[0]; var params = cmdStr.slice(cmd.length + 1).split('~') // TODO save price history // TODO: save chat history (and split level into own) switch (cmd) { case '': break; default: break; } let funcList = Main.getModule('Automation')._onCommandFunctions; if (typeof funcList[cmd] != 'undefined') { funcList[cmd].forEach(func =&gt; { func(cmd, params); }) } if (typeof funcList[''] != 'undefined') { funcList[''].forEach(func =&gt; { func(cmd, params); }) } }, } Main.addModule(Automation); × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"base_constants.js.html":{"id":"base_constants.js.html","title":"Source: base/constants.js","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Source: base/constants.js /** * Constants. * @namespace */ var Constants = { namespace: 'Constants', /** * Initialize Constants */ init: function () {}, /** * These values are used by DataAccess.get(key) is no value stored for that key. */ defaultValues: { // settings / things that can be changed // (value if not in localStorage) chartColors: ['#1f78b4', '#33a02c', '#e31a1c', '#ff7f00', '#6a3d9a', '#b15928', '#a6cee3', '#b2df8a', '#fb9a99', '#fdbf6f', '#cab2d6', '#ffff99'], marketHistoryUrl: 'http://data.diamondhunt.co/fetcher.php?key=d6Hd6HQa378G32dfgT', marketAveragesUrl: 'https://dh2fixed-market-backend.herokuapp.com/data', corsApiUrl: 'https://cors-anywhere.herokuapp.com/', MHVHeight: window.innerHeight / 2, MHVWidth: window.innerWidth / 2, MHVHistoryData: {} }, _postItemDialogueOriginal: window.postItemDialogue, // elements: /** * The original marketTable element. */ marketTableOriginal: document.querySelector('#market-table'), /** * A list of string id's of all marketable items */ marketList: [\"ancientLogs\", \"ancientTreeSeeds\", \"arrows\", \"ashes\", \"batSkin\", \"bearFur\", \"blewitMushroom\", \"blewitMushroomSeeds\", \"blueAxeOrb\", \"blueChiselOrb\", \"blueFishingRodOrb\", \"blueHammerOrb\", \"blueMeditationOrb\", \"blueOilPipeOrb\", \"bluePartyHat\", \"bluePickaxeOrb\", \"blueRakeOrb\", \"blueShovelOrb\", \"blueTrowelOrb\", \"boneAmulet\", \"bones\", \"bow\", \"bronzeBar\", \"cannon\", \"cannonBarrel\", \"cannonStand\", \"cannonWheels\", \"carrotSeeds\", \"changePromethiumMouldScroll\", \"changeRuniteMouldScroll\", \"charcoal\", \"crystalLeaf\", \"crystalLeafSeeds\", \"darkBones\", \"defender\", \"diamond\", \"donorCoins\", \"dottedGreenLeaf\", \"dottedGreenLeafSeeds\", \"dragonSkeletonShield\", \"emerald\", \"emptyChisel\", \"emptyOrbSpellScroll\", \"enchantStargemPotionSpellScroll\", \"feather\", \"fireArrows\", \"fireFeather\", \"fishingBait\", \"ghostAmulet\", \"ghostScanSpellScroll\", \"glass\", \"goldBar\", \"goldBody\", \"goldBoots\", \"goldGloves\", \"goldHelmet\", \"goldLeaf\", \"goldLeafSeeds\", \"goldLegs\", \"greenBonemealBinOrb\", \"greenBowOrb\", \"greenBrewingKitOrb\", \"greenCannonOrb\", \"greenCombatOrb\", \"greenEmpoweredRockOrb\", \"greenLeaf\", \"greenLeafSeeds\", \"greenOilFactoryOrb\", \"greenOilStorageOrb\", \"greenPartyHat\", \"greenRocketOrb\", \"iceArrows\", \"iceBones\", \"iceFeather\", \"interstellarGas\", \"ironBar\", \"ironDagger\", \"lifeAmuletCharged\", \"limeLeaf\", \"limeLeafSeeds\", \"logs\", \"mapleLogs\", \"mapleTreeSeeds\", \"marble\", \"marsRock\", \"moonBones\", \"moonstone\", \"oakLogs\", \"oakTreeSeeds\", \"pinkPartyHat\", \"potatoSeeds\", \"promethium\", \"promethiumBar\", \"promethiumBodyMould\", \"promethiumBootsMould\", \"promethiumGlovesMould\", \"promethiumHelmetMould\", \"promethiumLegsMould\", \"quartz\", \"rapier\", \"rawSardine\", \"rawShark\", \"rawShrimp\", \"rawSwordfish\", \"rawTuna\", \"rawWhale\", \"redAxeOrb\", \"redCharcoalFactoryOrb\", \"redCombatLootOrb\", \"redFishingBaitOrb\", \"redMagicWandOrb\", \"redManaStarOrb\", \"redMushroom\", \"redMushroomSeeds\", \"redPartyHat\", \"redRocketOrb\", \"ruby\", \"runite\", \"runiteBar\", \"runiteBodyMould\", \"runiteBootsMould\", \"runiteGlovesMould\", \"runiteHelmetMould\", \"runiteLegsMould\", \"sand\", \"santaHatSigil\", \"sapphire\", \"sardine\", \"scythe\", \"shark\", \"shrimp\", \"silverBar\", \"skeletonShield\", \"skeletonSword\", \"snakeSkin\", \"snapegrass\", \"snapegrassSeeds\", \"snowmanSigil\", \"stardust\", \"stardustLogs\", \"stardustTreeSeeds\", \"stinger\", \"stone\", \"strangeBlueLeaf\", \"strangeGreenLeaf\", \"strangeLeafTreeSeeds\", \"strangeLogs\", \"strangePinkLeaf\", \"strangePurpleLeaf\", \"strangeYellowLeaf\", \"stripedCrystalLeaf\", \"stripedCrystalLeafSeeds\", \"swordfish\", \"thread\", \"tomatoSeeds\", \"treeSeeds\", \"treeSigil\", \"tuna\", \"veryHighWindSpellScroll\", \"whale\", \"wheat\", \"wheatSeeds\", \"whitePartyHat\", \"willowLogs\", \"willowTreeSeeds\", \"yellowPartyHat\"], /** * a list of all items. format: stringId: [id, name, imageUrl]. * Id is -1 if unknown. */ itemList: { \"ALL\": [ -1, \"All Items\", \"images/icons/infinity.png\" ], \"sand\": [ 180, \"Sand\", \"images/sand.png\" ], \"stone\": [ -1, \"Stone\", \"images/stone.png\" ], \"quartz\": [ 414, \"Quartz\", \"images/quartz.png\" ], \"marble\": [ 49, \"Marble\", \"images/marble.png\" ], \"promethium\": [ 50, \"Promethium\", \"images/promethium.png\" ], \"runite\": [ 51, \"Runite\", \"images/runite.png\" ], \"sapphire\": [ 52, \"Sapphire\", \"images/sapphire.png\" ], \"emerald\": [ 53, \"Emerald\", \"images/emerald.png\" ], \"ruby\": [ 54, \"Ruby\", \"images/ruby.png\" ], \"diamond\": [ 55, \"Diamond\", \"images/diamond.png\" ], \"charcoal\": [ 673, \"Charcoal\", \"images/charcoal.png\" ], \"moonstone\": [ 692, \"Moonstone\", \"images/moonstone.png\" ], \"marsRock\": [ 1137, \"Mars Rock\", \"images/marsRock.png\" ], \"interstellarGas\": [ 1492, \"Interstellar Gas\", \"images/interstellarGas.png\" ], \"emptyChisel\": [ 560, \"Empty Chisel\", \"images/emptyChisel.png\" ], \"glass\": [ 181, \"Glass\", \"images/glass.png\" ], \"bronzeBar\": [ 65, \"Bronze Bar\", \"images/bronzeBar.png\" ], \"ironBar\": [ 66, \"Iron Bar\", \"images/ironBar.png\" ], \"silverBar\": [ 67, \"Silver Bar\", \"images/silverBar.png\" ], \"goldBar\": [ 68, \"Gold Bar\", \"images/goldBar.png\" ], \"promethiumBar\": [ 69, \"Promethium Bar\", \"images/promethiumBar.png\" ], \"runiteBar\": [ 71, \"Runite Bar\", \"images/runiteBar.png\" ], \"dottedGreenLeafSeeds\": [ 211, \"Dotted Green Leaf Seeds\", \"images/dottedGreenLeafSeeds.png\" ], \"greenLeafSeeds\": [ 212, \"Green Leaf Seeds\", \"images/greenLeafSeeds.png\" ], \"limeLeafSeeds\": [ 215, \"Lime Leaf Seeds\", \"images/limeLeafSeeds.png\" ], \"goldLeafSeeds\": [ 217, \"Gold Leaf Seeds\", \"images/goldLeafSeeds.png\" ], \"crystalLeafSeeds\": [ 223, \"Crystal Leaf Seeds\", \"images/crystalLeafSeeds.png\" ], \"stripedCrystalLeafSeeds\": [ 224, \"Striped Crystal Leaf Seeds\", \"images/stripedCrystalLeafSeeds.png\" ], \"redMushroomSeeds\": [ 186, \"Red Mushroom Seeds\", \"images/redMushroomSeeds.png\" ], \"blewitMushroomSeeds\": [ 226, \"Blewit Mushroom Seeds\", \"images/blewitMushroomSeeds.png\" ], \"snapegrassSeeds\": [ 228, \"Snapegrass Seeds\", \"images/snapegrassSeeds.png\" ], \"treeSeeds\": [ 242, \"Tree Seeds\", \"images/treeSeeds.png\" ], \"oakTreeSeeds\": [ 252, \"Oak Tree Seeds\", \"images/oakTreeSeeds.png\" ], \"willowTreeSeeds\": [ 336, \"Willow Tree Seeds\", \"images/willowTreeSeeds.png\" ], \"mapleTreeSeeds\": [ 462, \"Maple Tree Seeds\", \"images/mapleTreeSeeds.png\" ], \"stardustTreeSeeds\": [ 607, \"Stardust Tree Seeds\", \"images/stardustTreeSeeds.png\" ], \"strangeLeafTreeSeeds\": [ 1269, \"Strange Leaf Tree Seeds\", \"images/strangeLeafTreeSeeds.png\" ], \"ancientTreeSeeds\": [ 1191, \"Ancient Tree Seeds\", \"images/ancientTreeSeeds.png\" ], \"wheatSeeds\": [ 219, \"Wheat Seeds\", \"images/wheatSeeds.png\" ], \"carrotSeeds\": [ 724, \"Carrot Seeds\", \"images/carrotSeeds.png\" ], \"tomatoSeeds\": [ 723, \"Tomato Seeds\", \"images/tomatoSeeds.png\" ], \"potatoSeeds\": [ 722, \"Potato Seeds\", \"images/potatoSeeds.png\" ], \"logs\": [ 122, \"Logs\", \"images/logs.png\" ], \"oakLogs\": [ 123, \"Oak Logs\", \"images/oakLogs.png\" ], \"willowLogs\": [ 124, \"Willow Logs\", \"images/willowLogs.png\" ], \"mapleLogs\": [ 125, \"Maple Logs\", \"images/mapleLogs.png\" ], \"stardustLogs\": [ 606, \"Stardust Logs\", \"images/stardustLogs.png\" ], \"strangeLogs\": [ 1270, \"Strange Logs\", \"images/strangeLogs.png\" ], \"ancientLogs\": [ 126, \"Ancient Logs\", \"images/ancientLogs.png\" ], \"dottedGreenLeaf\": [ 188, \"Dotted Green Leaf\", \"images/dottedGreenLeaf.png\" ], \"greenLeaf\": [ 189, \"Green Leaf\", \"images/greenLeaf.png\" ], \"limeLeaf\": [ 194, \"Lime Leaf\", \"images/limeLeaf.png\" ], \"goldLeaf\": [ 190, \"Gold Leaf\", \"images/goldLeaf.png\" ], \"crystalLeaf\": [ 191, \"Crystal Leaf\", \"images/crystalLeaf.png\" ], \"stripedCrystalLeaf\": [ 192, \"Striped Crystal Leaf\", \"images/stripedCrystalLeaf.png\" ], \"redMushroom\": [ 185, \"Red Mushroom\", \"images/redMushroom.png\" ], \"blewitMushroom\": [ 244, \"Blewit Mushroom\", \"images/blewitMushroom.png\" ], \"snapegrass\": [ 245, \"Snapegrass\", \"images/snapegrass.png\" ], \"fishingBait\": [ 367, \"Fishing Bait\", \"images/fishingBait.png\" ], \"rawShrimp\": [ 306, \"Raw Shrimp\", \"images/rawShrimp.png\" ], \"rawSardine\": [ 307, \"Raw Sardine\", \"images/rawSardine.png\" ], \"rawTuna\": [ 308, \"Raw Tuna\", \"images/rawTuna.png\" ], \"rawSwordfish\": [ 309, \"Raw Swordfish\", \"images/rawSwordfish.png\" ], \"rawShark\": [ 310, \"Raw Shark\", \"images/rawShark.png\" ], \"rawWhale\": [ 311, \"Raw Whale\", \"images/rawWhale.png\" ], \"wheat\": [ 395, \"Wheat\", \"images/wheat.png\" ], \"shrimp\": [ 313, \"Shrimp\", \"images/shrimp.png\" ], \"sardine\": [ 314, \"Sardine\", \"images/sardine.png\" ], \"tuna\": [ 315, \"Tuna\", \"images/tuna.png\" ], \"swordfish\": [ 316, \"Swordfish\", \"images/swordfish.png\" ], \"shark\": [ 317, \"Shark\", \"images/shark.png\" ], \"whale\": [ 318, \"Whale\", \"images/whale.png\" ], \"snakeSkin\": [ 449, \"Snake Skin\", \"images/snakeSkin.png\" ], \"batSkin\": [ 474, \"Bat Skin\", \"images/batSkin.png\" ], \"bearFur\": [ 514, \"Bear Fur\", \"images/bearFur.png\" ], \"stinger\": [ 443, \"Stinger\", \"images/stinger.png\" ], \"ironDagger\": [ 450, \"Iron Dagger\", \"images/ironDagger.png\" ], \"skeletonSword\": [ 477, \"Skeleton Sword\", \"images/skeletonSword.png\" ], \"bow\": [ 640, \"Bow\", \"images/bow.png\" ], \"arrows\": [ 641, \"Arrows\", \"images/arrows.png\" ], \"fireArrows\": [ 642, \"Fire Arrows\", \"images/fireArrows.png\" ], \"iceArrows\": [ -1, \"Ice Arrows\", \"images/iceArrows.png\" ], \"feather\": [ 280, \"Feather\", \"images/feather.png\" ], \"fireFeather\": [ 591, \"Fire Feather\", \"images/fireFeather.png\" ], \"iceFeather\": [ 645, \"Ice Feather\", \"images/iceFeather.png\" ], \"scythe\": [ 715, \"Scythe\", \"images/scythe.png\" ], \"rapier\": [ 1895, \"Rapier\", \"images/rapier.png\" ], \"cannonBarrel\": [ 1164, \"Cannon Barrel\", \"images/cannonBarrel.png\" ], \"cannonStand\": [ 1165, \"Cannon Stand\", \"images/cannonStand.png\" ], \"cannonWheels\": [ 1166, \"Cannon Wheels\", \"images/cannonWheels.png\" ], \"cannon\": [ 1160, \"Cannon\", \"images/cannon.png\" ], \"skeletonShield\": [ 476, \"Skeleton Shield\", \"images/skeletonShield.png\" ], \"dragonSkeletonShield\": [ 1995, \"Dragon Skeleton Shield\", \"images/dragonSkeletonShield.png\" ], \"defender\": [ 1589, \"Defender\", \"images/defender.png\" ], \"boneAmulet\": [ 475, \"Bone Amulet\", \"images/boneAmulet.png\" ], \"ghostAmulet\": [ 714, \"Ghost Amulet\", \"images/ghostAmulet.png\" ], \"lifeAmuletCharged\": [ 1591, \"Life Amulet Charged\", \"images/lifeAmuletCharged.png\" ], \"goldHelmet\": [ 499, \"Gold Helmet\", \"images/goldHelmet.png\" ], \"goldBody\": [ -1, \"Gold Body\", \"images/goldBody.png\" ], \"goldLegs\": [ -1, \"Gold Legs\", \"images/goldLegs.png\" ], \"goldBoots\": [ 502, \"Gold Boots\", \"images/goldBoots.png\" ], \"goldGloves\": [ 503, \"Gold Gloves\", \"images/goldGloves.png\" ], \"promethiumHelmetMould\": [ 1023, \"Promethium Helmet Mould\", \"images/promethiumHelmetMould.png\" ], \"promethiumBodyMould\": [ 1024, \"Promethium Body Mould\", \"images/promethiumBodyMould.png\" ], \"promethiumLegsMould\": [ -1, \"Promethium Legs Mould\", \"images/promethiumLegsMould.png\" ], \"promethiumBootsMould\": [ -1, \"Promethium Boots Mould\", \"images/promethiumBootsMould.png\" ], \"promethiumGlovesMould\": [ 1027, \"Promethium Gloves Mould\", \"images/promethiumGlovesMould.png\" ], \"runiteHelmetMould\": [ 1414, \"Runite Helmet Mould\", \"images/runiteHelmetMould.png\" ], \"runiteBodyMould\": [ 1415, \"Runite Body Mould\", \"images/runiteBodyMould.png\" ], \"runiteLegsMould\": [ 1416, \"Runite Legs Mould\", \"images/runiteLegsMould.png\" ], \"runiteBootsMould\": [ 1417, \"Runite Boots Mould\", \"images/runiteBootsMould.png\" ], \"runiteGlovesMould\": [ 1418, \"Runite Gloves Mould\", \"images/runiteGlovesMould.png\" ], \"thread\": [ 1320, \"Thread\", \"images/thread.png\" ], \"strangeGreenLeaf\": [ 1274, \"Strange Green Leaf\", \"images/strangeGreenLeaf.png\" ], \"strangeYellowLeaf\": [ 1273, \"Strange Yellow Leaf\", \"images/strangeYellowLeaf.png\" ], \"strangeBlueLeaf\": [ 1271, \"Strange Blue Leaf\", \"images/strangeBlueLeaf.png\" ], \"strangePinkLeaf\": [ 1272, \"Strange Pink Leaf\", \"images/strangePinkLeaf.png\" ], \"strangePurpleLeaf\": [ 1275, \"Strange Purple Leaf\", \"images/strangePurpleLeaf.png\" ], \"enchantStargemPotionSpellScroll\": [ 1344, \"Enchant Stargem Potion Spell Scroll\", \"images/enchantStargemPotionSpellScroll.png\" ], \"veryHighWindSpellScroll\": [ 1346, \"Very High Wind Spell Scroll\", \"images/veryHighWindSpellScroll.png\" ], \"emptyOrbSpellScroll\": [ 1345, \"Empty Orb Spell Scroll\", \"images/emptyOrbSpellScroll.png\" ], \"ghostScanSpellScroll\": [ 1422, \"Ghost Scan Spell Scroll\", \"images/ghostScanSpellScroll.png\" ], \"changePromethiumMouldScroll\": [ 1487, \"Change Promethium Mould Scroll\", \"images/changePromethiumMouldScroll.png\" ], \"changeRuniteMouldScroll\": [ 1488, \"Change Runite Mould Scroll\", \"images/changeRuniteMouldScroll.png\" ], \"blueFishingRodOrb\": [ 547, \"Blue Fishing Rod Orb\", \"images/blueFishingRodOrb.png\" ], \"blueShovelOrb\": [ 548, \"Blue Shovel Orb\", \"images/blueShovelOrb.png\" ], \"blueAxeOrb\": [ 549, \"Blue Axe Orb\", \"images/blueAxeOrb.png\" ], \"blueRakeOrb\": [ 550, \"Blue Rake Orb\", \"images/blueRakeOrb.png\" ], \"blueTrowelOrb\": [ 740, \"Blue Trowel Orb\", \"images/blueTrowelOrb.png\" ], \"bluePickaxeOrb\": [ 551, \"Blue Pickaxe Orb\", \"images/bluePickaxeOrb.png\" ], \"blueOilPipeOrb\": [ 552, \"Blue Oil Pipe Orb\", \"images/blueOilPipeOrb.png\" ], \"blueHammerOrb\": [ 553, \"Blue Hammer Orb\", \"images/blueHammerOrb.png\" ], \"blueChiselOrb\": [ 554, \"Blue Chisel Orb\", \"images/blueChiselOrb.png\" ], \"blueMeditationOrb\": [ 1388, \"Blue Meditation Orb\", \"images/blueMeditationOrb.png\" ], \"greenOilFactoryOrb\": [ 1123, \"Green Oil Factory Orb\", \"images/greenOilFactoryOrb.png\" ], \"greenCombatOrb\": [ 1124, \"Green Combat Orb\", \"images/greenCombatOrb.png\" ], \"greenBrewingKitOrb\": [ 1125, \"Green Brewing Kit Orb\", \"images/greenBrewingKitOrb.png\" ], \"greenBowOrb\": [ 1126, \"Green Bow Orb\", \"images/greenBowOrb.png\" ], \"greenCannonOrb\": [ 1878, \"Green Cannon Orb\", \"images/greenCannonOrb.png\" ], \"greenBonemealBinOrb\": [ 1127, \"Green Bonemeal Bin Orb\", \"images/greenBonemealBinOrb.png\" ], \"greenRocketOrb\": [ 1128, \"Green Rocket Orb\", \"images/greenRocketOrb.png\" ], \"greenOilStorageOrb\": [ 1139, \"Green Oil Storage Orb\", \"images/greenOilStorageOrb.png\" ], \"greenEmpoweredRockOrb\": [ 1390, \"Green Empowered Rock Orb\", \"images/greenEmpoweredRockOrb.png\" ], \"redMagicWandOrb\": [ 1451, \"Red Magic Wand Orb\", \"images/redMagicWandOrb.png\" ], \"redCharcoalFactoryOrb\": [ 1452, \"Red Charcoal Factory Orb\", \"images/redCharcoalFactoryOrb.png\" ], \"redManaStarOrb\": [ 1453, \"Red Mana Star Orb\", \"images/redManaStarOrb.png\" ], \"redCombatLootOrb\": [ 1454, \"Red Combat Loot Orb\", \"images/redCombatLootOrb.png\" ], \"redAxeOrb\": [ 1455, \"Red Axe Orb\", \"images/redAxeOrb.png\" ], \"redFishingBaitOrb\": [ 1456, \"Red Fishing Bait Orb\", \"images/redFishingBaitOrb.png\" ], \"redRocketOrb\": [ 1457, \"Red Rocket Orb\", \"images/redRocketOrb.png\" ], \"bones\": [ 282, \"Bones\", \"images/bones.png\" ], \"ashes\": [ 593, \"Ashes\", \"images/ashes.png\" ], \"iceBones\": [ 644, \"Ice Bones\", \"images/iceBones.png\" ], \"moonBones\": [ -1, \"Moon Bones\", \"images/moonBones.png\" ], \"darkBones\": [ 1167, \"Dark Bones\", \"images/darkBones.png\" ], \"stardust\": [ 138, \"Stardust\", \"images/stardust.png\" ], \"donorCoins\": [ 398, \"Donor Coins\", \"images/donorCoins.png\" ], \"santaHatSigil\": [ -1, \"Santa Hat Sigil\", \"images/santaHatSigil.png\" ], \"treeSigil\": [ 410, \"Tree Sigil\", \"images/treeSigil.png\" ], \"greenPartyHat\": [ -1, \"Green Party Hat\", \"images/greenPartyHat.png\" ], \"pinkPartyHat\": [ -1, \"Pink Party Hat\", \"images/pinkPartyHat.png\" ], \"redPartyHat\": [ -1, \"Red Party Hat\", \"images/redPartyHat.png\" ], \"yellowPartyHat\": [ -1, \"Yellow Party Hat\", \"images/yellowPartyHat.png\" ], \"whitePartyHat\": [ 1264, \"White Party Hat\", \"images/whitePartyHat.png\" ], \"bluePartyHat\": [ -1, \"Blue Party Hat\", \"images/bluePartyHat.png\" ], \"snowmanSigil\": [ 1928, \"Snowman Sigil\", \"images/snowmanSigil.png\" ] } } Main.addModule(Constants); × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"base_dataAccess.js.html":{"id":"base_dataAccess.js.html","title":"Source: base/dataAccess.js","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Source: base/dataAccess.js /** * DataAccess. * @namespace */ var DataAccess = { namespace: 'DataAccess', _CTE: null, _GEN: null, _history_data_raw: null, _history_data: {}, /** True if the history data is being downloaded */ history_data_downloading: false, _localStoragePrefix: 'redderke.', /** * Initialize DataAccess */ init: function () { this._CTE = Main.getModule('Constants'); this._GEN = Main.getModule('GeneralFunctions'); let clearList = this.get('DataAccessClearList') if (clearList != null) { clearList.forEach((x) =&gt; { this.clear(x) }) } this.clear('DataAccessClearList') }, /** * Store data at the key. * @param {string} key - The key where data is stored. * @param {any} value - The value stored at the key. */ set: function (key, value) { localStorage.setItem(this._localStoragePrefix + key, JSON.stringify(value)); }, /** * Retrieve data stored at the key. * @param {string} key - The key where data is stored. * @return {any} - The data stored at the key. */ get: function (key) { let localData = JSON.parse(localStorage.getItem(this._localStoragePrefix + key)); if (localData !== null) { return localData } else { return typeof this._CTE.defaultValues[key] === 'undefined' ? null : this._CTE.defaultValues[key] } }, /** * Clear the data stored at the key. * @param {string} key - The key. */ clear: function (key) { localStorage.removeItem(key); }, /** * Clear all stored data. */ clearAll: function () { for (var key in localStorage) { if (key.startsWith(this._localStoragePrefix)) { localStorage.removeItem(key); } } }, /** * Will remove data stored at the key on next load of the page. * @param {string} key - The key. */ clearOnReload: function (key) { let clearList = this.get('DataAccessClearList') clearList.push(key); this.set('DataAccessClearList', clearList) }, /** * Returns the string id linked to the number id. * @param {int} id - The id in number format. * @return {string} - The id in string format. */ getStrIdById: function (id) { for (const key in this._CTE.itemList) { if (this._CTE.itemList.hasOwnProperty(key) &amp;&amp; this._CTE.itemList[key][0] == id) { return key; } } }, /** * Returns the string id that uses this name. * @param {string} name - The name. * @return {string} - The id in string format. */ getStrIdByName: function (name) { for (const key in this._CTE.itemList) { if (this._CTE.itemList.hasOwnProperty(key) &amp;&amp; this._CTE.itemList[key][1] == name) { return key; } } }, // TODO add onerror? /** * Executes a api get call and executes the function with the XMLHttpRequest object as parameter. * @param {string} url - The url. * @param {function} onload - The function to run on load. * @return {XMLHttpRequest} - The XMLHttpRequest object. */ getApi: function (url, onload) { if (!url.startsWith('https')) { url = this.get('corsApiUrl') + url; } var xhr = new XMLHttpRequest(); xhr.addEventListener(\"progress\", () =&gt; console.log('progress'), false); xhr.addEventListener(\"load\", () =&gt; onload(xhr), false); //xhr.addEventListener(\"error\", transferFailed, false); //xhr.addEventListener(\"abort\", transferCanceled, false); xhr.open('GET', url); xhr.send(); }, // TODO: This function depends on a module // solution: move the local option to main // TODO: make the pai url configurable // TODO: use onload exclusively for consistency /** * Gets the history data from localStorage or api depending on key:MHVLocal * @param {string} url - The url. * @param {function} onload - The function to run on load. * @return {unknown} - TODO: documentation. */ getHistory: function (strId, onload = (() =&gt; { })) { if (this.get('MHVLocal')) { return this.get('MHVHistoryData')[strId]; } else { if (typeof this._history_data[strId] === 'undefined') { if (this._history_data_raw === null) { this._GEN.updateHistoryData(() =&gt; { this._generateHistoryCache(strId); onload() }); } else { this._generateHistoryCache(strId); } } } return this._history_data[strId]; }, _generateHistoryCache: function (strId) { this._history_data[strId] = []; for (var key in this._history_data_raw) { if (this._history_data_raw.hasOwnProperty(key)) { var entry = this._history_data_raw[key]; if (typeof entry !== 'undefined' &amp;&amp; entry[0] == strId) { this._history_data[strId].push( [ entry[1], entry[2], Date.parse(entry[3] + ' CST') ] ); } } } }, } Main.addModule(DataAccess); × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"base_dev.js.html":{"id":"base_dev.js.html","title":"Source: base/dev.js","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Source: base/dev.js /** * Functions that are helpful when developing. * @namespace */ var Dev = { namespace: 'Dev', init: function () { window.redDev = this; }, /** * Add functionality to a function. (use window as container to extend global functions) * @param {object} container * @param {string} funcName * @param {function} prepend * @param {function} append */ extender: function extender(container, funcName, prepend, append) { (function () { let proxied = container[funcName]; container[funcName] = function () { if (prepend) prepend.apply(this); let result = proxied.apply(this, arguments); if (append) append.apply(this); return result; }; })(); }, /** * Log all arguments of a function. * @param {string} funcName - The name of the function. */ logArguments: function logArguments(funcName) { (function () { let log = function () { var counter = 0; [].forEach.call(arguments, function (el) { console.log(funcName + ' ' + counter + ': ' + el); counter++; }); }; let proxied = window[funcName]; window[funcName] = function () { log.apply(this, arguments); let result = proxied.apply(this, arguments); return result; }; })(); } } Main.addModule(Dev); × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"base_dialog.js.html":{"id":"base_dialog.js.html","title":"Source: base/dialog.js","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Source: base/dialog.js /** * Description. * @namespace */ var Dialog = { namespace: 'Dialog', // the name used by other modules // add/remove as needed _CTE: null, _DA: null, _GEN: null, _AUTO: null, _SETTINGS: null, _prefixId: 'redderke-dialog-', _prefixLocal: 'redderke-dialog-', _titles: {}, /** * Initialize Dialog */ init: function () { this._CTE = Main.getModule('Constants'); this._DA = Main.getModule('DataAccess'); this._GEN = Main.getModule('GeneralFunctions'); this._AUTO = Main.getModule('Automation'); this._SETTINGS = Main.getModule('Settings'); }, /** * Create a new dialog. * @param {string} id - The id to give to the dialog. * @param {string} title - The title of the dialog. * @param {string} html - The inner html of this dialog. */ create: function (id, title, html) { this.setTitle(id, title) let dialog = document.createElement('dialog'); dialog.id = this._prefixId + id; dialog.insertAdjacentHTML('beforeend', '&lt;div style=\"margin-right: 20px;\"&gt;&lt;/div&gt;'); document.body.appendChild(dialog); this.setHTML(id, html); new ResizeObserver(() =&gt; { dialog.getAttribute('style').replace(/\\s/g, '') .split(';').forEach(x =&gt; { var t = x.split(':'); if (t[0] == 'width' &amp;&amp; t[1] != 'auto') { this._DA.set(this._prefixLocal + '.' + id + '.width', parseFloat(t[1].replace('px', '')) + 60); } if (t[0] == 'height' &amp;&amp; t[1] != 'auto') { this._DA.set(this._prefixLocal + '.' + id + '.height', parseFloat(t[1].replace('px', '')) + 60); } }); }).observe(dialog); }, /** * Change the html of the dialog. * @param {string} id - The id of the dialog. * @param {string} html - The new inner html for this dialog. */ setHTML: function (id, html) { document.querySelector('#' +this._prefixId + id + ' div').innerHTML = html; }, /** * Change the dialogs title. * @param {string} id - The id of the dialog. * @param {string} title - The new title for the dialog. */ setTitle: function (id, title) { this._titles[id] = title; }, /** * Open a dialog. * @param {string} id - The id of the dialog. */ open: function (id) { let height = this._DA.get(this._prefixLocal + '.' + id + '.height') let width = this._DA.get(this._prefixLocal + '.' + id + '.width') $('#' + this._prefixId + id).dialog({ title: this._titles[id], height: height, width: width, }); }, /** * Get the div that contains the html of the dialog. * @param {string} id - The id of the dialog. * @return The body div of the dialog */ getElement: function (id) { return document.querySelector('#' +this._prefixId + id + ' div'); }, } Main.addModule(Dialog); × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"base_generalFunctions.js.html":{"id":"base_generalFunctions.js.html","title":"Source: base/generalFunctions.js","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Source: base/generalFunctions.js /** * General functions. * @namespace */ var GeneralFunctions = { namespace: 'GeneralFunctions', _CTE: null, _DA: null, _SETTINGS: null, _runOnMarketUpdateList: [], //TODO: Move to Main _runOnFirstTickList: [], _initialPlaytime: playtime, //TODO: Move to Main _ranFirstTick: false, /** * Initialize GeneralFunctions */ init: function () { this._CTE = Main.getModule('Constants'); this._DA = Main.getModule('DataAccess'); this._SETTINGS = Main.getModule('Settings'); this._waitForFirstTick(); // TODO: convert to oncommand // replace original function that updates the market with new one let previousFunc = window.postItemDialogue; window.postItemDialogue = function (buySellElement, strId, inputElement, options) { Main.getModule('GeneralFunctions')._runOnMarketUpdateList.forEach(item =&gt; { if (item[0].includes(strId)) { item[1](buySellElement, strId, inputElement, options); } }); previousFunc(buySellElement, strId, inputElement); } this._initSettings(); this.runOnFirstTick(() =&gt; { this._checkNotificationPermission(); }); }, _initSettings: function () { this._SETTINGS.addCategory('generalFunctions', 'General') this._SETTINGS.addSetting({ category: 'generalFunctions', key: 'generalFunctions-allow-push-notifications', type: 'checkbox', text: 'Enable push notifications', defaultValue: false, onChange: function () { Main.getModule('GeneralFunctions')._checkNotificationPermission() }, }) }, /** * Add css to the page * @param {string} cssUrl - The url to the css file. */ addCss: function (cssUrl) { var head = document.head; var link = document.createElement(\"link\"); link.type = \"text/css\"; link.rel = \"stylesheet\"; link.href = cssUrl; head.appendChild(link); }, // I think options is to be sent to the runonmarket update thing. // this way you can add your own options // TODO remove options? /** * Set the market page to a new item. * @param {string} strId - The string id of the item * @param {object} options - TODO */ setMarketPage: function (strId, options) { console.log('changed to ' + strId) var buySellElement = document.getElementById(\"dialogue-market-postitem-buyorsell\") buySellElement.setAttribute('value', 'buy') var inputElement = document.querySelector('#dialogue-market-items-area input[data-item-name=\"' + this._CTE.itemList[strId][1] + '\"]') window.postItemDialogue(buySellElement, strId, inputElement, options) }, /** * The given function will be ran when the market updates. * @param {function} func - The function. * @param {array} items - An array of strings. The function will be run if any of these items have been updated. */ runOnMarketUpdate: function (func, items = ['ALL']) { this._runOnMarketUpdateList.push([func, items]); }, //TODO: Move to Main /** * Runs the function on the first game tick (after logon). */ runOnFirstTick: function (func) { if (this._ranFirstTick) { func(); } else { this._runOnFirstTickList.push(func); } }, //TODO: Move to Main _waitForFirstTick: function () { if (this._initialPlaytime == playtime) { setTimeout(function () { Main.getModule('GeneralFunctions')._waitForFirstTick() }, 1000); } else if (!this._ranFirstTick) { this._ranFirstTick = true; this._runOnFirstTickList.forEach(func =&gt; { func(); }); } }, // TODO leave here or move to market history viewer? /**TODO: documentation */ updateHistoryData: function (onload) { if (!this.history_data_downloading) { this.history_data_downloading = true; this._history_data = {}; this._DA.getApi(this._DA.get('marketHistoryUrl'), x =&gt; { this._DA._history_data_raw = JSON.parse(x.responseText); this._DA.history_data_downloading = false; onload(); }); } }, //TODO: make prepend and append options? /** * Add functionality to a function. (use window as container to extend global functions) * @param {object} container - TODO: documentation * @param {string} funcName - TODO: documentation * @param {function} append - TODO: documentation * @param {function} prepend - TODO: documentation */ extendFunction: function (container, funcName, append, prepend) { (function () { let proxied = container[funcName]; container[funcName] = function () { if (prepend) prepend.apply(this, arguments); let result = proxied.apply(this, arguments); if (append) append.apply(this, arguments); return result; }; })(); }, /** * Send a desktop notification. * @param {string} title - Title of the notification. * @param {string} body - Body of the notification. * @param {string} [iconUrl=''] - Url to icon image of notification. * @return {boolean} - True if successful. */ sendNotification: function (title, body, iconUrl = '') { if (!window.Notification) { console.info('Browser does not support notifications.'); return false; } else { if (Notification.permission === 'granted' &amp;&amp; Main.getModule('DataAccess').get('generalFunctions-allow-push-notifications')) { new Notification(title, { body: body, icon: iconUrl, }); } } }, _checkNotificationPermission: function () { if (Notification.permission !== 'granted' &amp;&amp; this._DA.get('generalFunctions-allow-push-notifications')) { Notification.requestPermission().then(function (p) { if (p === 'granted') { console.info('Notifications allowed') } else { console.info('Notifications blocked') } }).catch(function (err) { console.error(err); }); } } } Main.addModule(GeneralFunctions); × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"base_main.js.html":{"id":"base_main.js.html","title":"Source: base/main.js","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Source: base/main.js /** * DataAccess. * @namespace */ var Main = { _toLoadModules: [], _AllModules: {}, _initializing: false, _loadingModules: [], loaded: false, /** * Initialize Main */ init: function () { this._initializing = true; this._loadModules(); this._initializing = false; console.log('Main initialized') }, /** * Add a module to the script. * Load order is automatically decided during initialization. * @param {Object} module - The module object * @param {string} module.namespace - Namespace of the module * @param {function} module.init - Function that runs to initialize the script */ addModule: function (module) { if (typeof module.namespace == 'undefined' || typeof module.init == 'undefined') { if (module.namespace == 'undefined') { console.error('A module is missing the namespace field') } else { console.error(module.namespace + 'is missing a required field') } } else { this._AllModules[module.namespace] = { module: module, loaded: false, loading: false, }; if (this.loaded || this._initializing) { this._loadModule(module); } else { this._toLoadModules.push(module); } } }, /** * Load all modules. * @private */ _loadModules: function () { for (const key in this._AllModules) { if (this._AllModules.hasOwnProperty(key)) { this._loadModule(key) } } this.loaded = true; }, /** * @private * @param {string} namespace - The namespace of the module. */ _loadModule: function (namespace) { try { let moduleItem = this._AllModules[namespace]; if (!moduleItem.loaded &amp;&amp; !moduleItem.loading) { moduleItem.loading = true; moduleItem.module.init(); moduleItem.loading = false; moduleItem.loaded = true; console.log(namespace + ' initialized') } } catch (error) { console.error('Error during initializing of ' + module.namespace + ':', error); return false; } return true; }, /** * Checks if module is loading * @param {string} namespace - Namespace of the module. */ isModuleLoading: function (namespace) { try { return this._AllModules[namespace].loading; } catch (error) { console.error('Module ' + module.namespace + ' not found: ', error); } }, /** * Checks if module is loaded * @param {string} namespace - Namespace of the module. */ isModuleLoaded: function (namespace) { try { return this._AllModules[namespace].loaded; } catch (error) { console.error('Module ' + module.namespace + ' not found: ', error); } }, /** * Returns module by namespace. * @param {string} namespace - Namespace of the module. * @return {object} The requested module. */ getModule: function (namespace) { try { let moduleItem = this._AllModules[namespace]; if (!moduleItem.loaded &amp;&amp; !moduleItem.loading) { this._loadModule(namespace) } return moduleItem.module; } catch (error) { console.error('Module ' + module.namespace + ' not found: ', error); } }, } × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"modules_marketUI.js.html":{"id":"modules_marketUI.js.html","title":"Source: modules/marketUI.js","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Source: modules/marketUI.js /** * Description. * @namespace */ var MarketUI = { namespace: 'MarketUI', // the name used by other modules // add/remove as needed _CTE: null, _DA: null, _GEN: null, _AUTO: null, _SETTINGS: null, /** * Initialize MarketUI */ init: function () { this._CTE = Main.getModule('Constants'); this._DA = Main.getModule('DataAccess'); this._GEN = Main.getModule('GeneralFunctions'); this._AUTO = Main.getModule('Automation'); this._SETTINGS = Main.getModule('Settings'); }, _createTable: function () { let originalTable = document.querySelector('#market-table') }, } Main.addModule(MarketUI); × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"module-template.js.html":{"id":"module-template.js.html","title":"Source: module-template.js","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Source: module-template.js /** * Description. * @namespace */ var Namespace = { namespace: 'Namespace', // the name used by other modules // add/remove as needed _CTE: null, _DA: null, _GEN: null, _AUTO: null, _SETTINGS: null, _DIALOG: null, /** * Initialize Namespace */ init: function () { this._CTE = Main.getModule('Constants'); this._DA = Main.getModule('DataAccess'); this._GEN = Main.getModule('GeneralFunctions'); this._AUTO = Main.getModule('Automation'); this._SETTINGS = Main.getModule('Settings'); this._DIALOG = Main.getModule('Dialog'); // code that should be run upon initialization this._GEN.runOnFirstTick(() =&gt; { // code that has to be run after logon }); }, } Main.addModule(Namespace); × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"modules_notifications.js.html":{"id":"modules_notifications.js.html","title":"Source: modules/notifications.js","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Source: modules/notifications.js /** * Description. * @namespace */ var Notifications = { namespace: 'Notifications', // the name used by other modules // add/remove as needed _CTE: null, _DA: null, _GEN: null, _AUTO: null, _SETTINGS: null, _DIALOG: null, _choices: null, /** * Initialize Notifications */ init: function () { this._CTE = Main.getModule('Constants'); this._DA = Main.getModule('DataAccess'); this._GEN = Main.getModule('GeneralFunctions'); this._AUTO = Main.getModule('Automation'); this._SETTINGS = Main.getModule('Settings'); this._DIALOG = Main.getModule('Dialog'); // code that has to be run upon initialization this._GEN.runOnFirstTick(() =&gt; { // code that has to be run after logon }); this._AUTO.onCommand(this._processChatArray, 'CHAT') this._initSettings(); }, _initSettings: function () { this._SETTINGS.addCategory('notifications', 'Notifications') this._SETTINGS.addSetting({ category: 'notifications', key: 'notifications-keywords', type: 'button', text: 'Change keywords.', onChange: this._openKeywordsDialog, }) this._DIALOG.create('notifications-keywords', 'Keywords', '\"_\" as first or last character is seen as space!&lt;/br&gt;&lt;input class=\"form-control\" id=\"redderke-notifications-keywords\" type=\"text\" placeholder=\"This is a placeholder\" class=\"\" /&gt;') const element = document.querySelector('#redderke-notifications-keywords'); this._choices = new Choices(element, { duplicateItemsAllowed: false, removeItemButton: true, }); if(this._DA.get('notificationsKeywords') == null) this._DA.set('notificationsKeywords', []); this._choices.setValue(this._DA.get('notificationsKeywords')); this._choices.passedElement.element.addEventListener( 'change', function(event) { Main.getModule('DataAccess').set('notificationsKeywords', Main.getModule('Notifications')._choices.getValue(true)) }, false, ); }, _processChatArray: function (cmd, params) { let str = params[3].substring(params[3].indexOf(\":\") + 1); let matchStr = ''; Main.getModule('DataAccess').get('notificationsKeywords').forEach(item =&gt; { let itemArr = Array.from(item); if(itemArr[0] == '_') itemArr[0] = ' '; if(itemArr[itemArr.length-1] == '_') itemArr[itemArr.length-1] = ' '; item = itemArr.join(''); if(str.toLowerCase().includes(item.toLowerCase())){ matchStr += ' ' + item; } }); if(matchStr != '' &amp;&amp; params[2] != 5) Main.getModule('GeneralFunctions').sendNotification(matchStr, params[0] + ': ' + str) }, _openKeywordsDialog: function () { Main.getModule('Dialog').open('notifications-keywords') }, } Main.addModule(Notifications); × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"base_settings.js.html":{"id":"base_settings.js.html","title":"Source: base/settings.js","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Source: base/settings.js /** * Settings. * @namespace */ var Settings = { namespace: 'Settings', _CTE: null, _DA: null, inputClass: 'redderke-settings-input', IdOptionsDiv: 'redderke-options-table', KeyAttributeName: 'redderke-key', _defaultOptions: { type: 'checkbox', category: '', key: '', text: '', defaultValue: '', buttonText: 'show', onChange: ()=&gt;{}, imageUrl: '', style: '', }, /** * Initialize Settings */ init: function () { this._CTE = Main.getModule('Constants'); this._DA = Main.getModule('DataAccess'); this._initUI(); }, _initUI: function () { var optionsHtml = '&lt;div id=\"' + this.IdOptionsDiv + '\"&gt;&lt;table class=\"table-style1\" width=\"40%\"&gt;&lt;tr style=\"background-color:gold;\"&gt;&lt;th&gt;Redderke\\'s script settings&lt;/th&gt;&lt;th style=\"width:1px\"&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;' var profileTable = document.getElementById('profile-toggleTable') profileTable.insertAdjacentHTML('afterend', optionsHtml) profileTable.insertAdjacentHTML('afterend', '&lt;br&gt;') profileTable.insertAdjacentHTML('afterend', '&lt;br&gt;') }, /**TODO: make function and documentation */ _getSettingElement: function(){ console.log('_getSettingElement is still TODO') }, /**TODO: make function and documentation */ addEventListener: function(){ console.log('addEventListener is still TODO') }, _getCategoryTable: function(category){ return document.querySelector('#' + this.IdOptionsDiv + ' table[category=\"' + category + '\"]'); }, /**TODO: make function and documentation */ addSelectorSetting: function(options){ console.log('addSelectorSetting is still TODO') }, /** * Add a setting to the settings table. * @param {Object} options * @param {string} [options.type='checkbox'] - See HTML input types. (TODO: type file not done yet) * @param {string} options.category - Category to put the setting under. * @param {string} options.key - The key where the value is stored. * @param {string} [options.text=''] - The description. * @param {string} [options.defaultValue=''] - Default value. * @param {string} [options.buttonText='show'] - Text inside button. * @param {string} [options.onChange=()=&gt;{}] - Function to call on change of the value or button click. * @param {string} [options.imageUrl=''] - Url to image for input element. * @param {string} [options.style=''] - Custom style for the row element. */ addSetting: function (options) { let opts = Object.assign({}, this._defaultOptions, options); let rowElement = this._generateRowElement(options); let inputElement = rowElement.querySelector('input') if (this._DA.get(opts.key) === null) { this._DA.set(opts.key, opts.defaultValue); } switch (opts.type) { case 'checkbox': case 'radio': { inputElement.checked = this._DA.get(opts.key) inputElement.addEventListener('change', event =&gt; { this._DA.set(opts.key, inputElement.checked); opts.onChange(event); console.log('changed') }) break; } case 'button': case 'reset': case 'submit': case 'image': { inputElement.value = opts.buttonText; inputElement.addEventListener('click', event =&gt; { opts.onChange(event); }) break; } case 'date': case 'datetime-local': case 'month': case 'time': case 'week': { let value = this._DA.get(opts.key); if (moment(value, moment.ISO_8601, true).isValid()) { inputElement.valueAsDate = new Date(value) } inputElement.addEventListener('change', event =&gt; { this._DA.set(opts.key, inputElement.valueAsDate); opts.onChange(event); }) break; } case 'range': { //TODO // range: default range from 0 to 100, returns correctly // might need extra options to control range or show current value inputElement.value = this._DA.get(opts.key) inputElement.addEventListener('change', event =&gt; { this._DA.set(opts.key, inputElement.value); opts.onChange(event); }) console.log('TODO: improve range input type') break; } case 'number': case 'password': case 'hidden': case 'email': case 'color': case 'search': case 'tel': case 'text': case 'url': { inputElement.style.width = '40px' inputElement.value = this._DA.get(opts.key) inputElement.addEventListener('change', event =&gt; { this._DA.set(opts.key, inputElement.value); opts.onChange(event); }) break; } default: { // TODO: file console.log('setting type not (yet) supported!') } break; } }, // TODO: change category to id and text to name everywhere /** * Add a category to the settings table. * @param {string} category - The category's id. * @param {string} text - The shown text of the category. */ addCategory: function (category, text) { var optionsDiv = document.getElementById(this.IdOptionsDiv) if (optionsDiv.querySelector('table[category=\"' + category + '\"]') === null) { optionsDiv.insertAdjacentHTML('beforeend', '&lt;table class=\"table-style1\" width=\"40%\" category=\"' + category + '\"&gt;&lt;tr style=\"background-color:grey;\"&gt;&lt;th&gt;' + text + '&lt;/th&gt;&lt;th style=\"width:1px\"&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/table&gt;') } }, _generateRowElement: function(options){ let opts = Object.assign({}, this._defaultOptions, options); var optionsTable = this._getCategoryTable(opts.category) if (optionsTable === null) { this.addCategory(category, category) optionsTable = this._getCategoryTable(opts.category) } var textColElement = document.createElement('td') textColElement.innerText = opts.text var inputElement = document.createElement('input') inputElement.setAttribute('type', opts.type) inputElement.setAttribute('class', this.inputClass) inputElement.setAttribute(this.KeyAttributeName, opts.key) inputElement.setAttribute('src', opts.imageUrl) var inputColElement = document.createElement('td') inputColElement.insertAdjacentElement('beforeend', inputElement) var rowElement = document.createElement('tr') rowElement.insertAdjacentElement('beforeend', textColElement) rowElement.insertAdjacentElement('beforeend', inputColElement) inputElement.setAttribute('style', opts.style) // add it to the table optionsTable.insertAdjacentElement('beforeend', rowElement) return rowElement; }, } Main.addModule(Settings); × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"base_test.js.html":{"id":"base_test.js.html","title":"Source: base/test.js","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Source: base/test.js /** * For testing purposes. * @namespace */ var Test = { namespace: 'Test', // the name used by other modules // add/remove as needed _CTE: null, _DA: null, _GEN: null, _AUTO: null, _SETTINGS: null, _DIALOG: null, /** * Initialize Test */ init: function () { this._CTE = Main.getModule('Constants'); this._DA = Main.getModule('DataAccess'); this._GEN = Main.getModule('GeneralFunctions'); this._AUTO = Main.getModule('Automation'); this._SETTINGS = Main.getModule('Settings'); this._DIALOG = Main.getModule('Dialog'); // this._SETTINGS.addCategory('test', 'testsds') // this._SETTINGS.addSetting({ // category: 'test', // key: 'testkeydy', // type: 'button', // buttonText: 'red', // text: 'ysy', // onChange: this._testOpen, // }) // this._SETTINGS.addSetting({ // category: 'test', // key: 'testkeysddy', // type: 'button', // buttonText: 'red', // text: 'make', // onChange: this._testMake, // }) this._GEN.runOnFirstTick(() =&gt; { // let html = document.createElement('input') // this._DIALOG.create('ppBig', 'pp is a b9ig title!', html.outerHTML) // this._DIALOG.open('ppBig') }); // this._AUTO.onCommand(this._testFunc) // this._AUTO.onCommand((x,y)=&gt;{console.log(x+ ' s ' +y[3])}, 'CHAT') // this._DIALOG.create('test', 'trest title', '&lt;input class=\"form-control\" id=\"test-fdssfsdfsd\" type=\"text\" placeholder=\"This is a placeholder\" class=\"\" /&gt;') // const element = document.querySelector('#test-fdssfsdfsd'); // const choices = new Choices(element, { // duplicateItemsAllowed: false, // }); }, // _testFunc: function (command, params) { // console.log('command: ' + command) // console.log(params) // }, // _testMake: function () { // }, // _testOpen: function (arg, arg2) { // Main.getModule('Dialog').open('test') // }, } Main.addModule(Test); × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Namespaces Namespaces Automation Constants DataAccess Dev Dialog GeneralFunctions Main MarketUI Namespace Notifications Settings Test × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Redderke's Diamond Hunt 2 Utilities Documentation themes Light (united) In between (superhero) Dark (cyborg) Game function documentation Base functionality: Settings page data access localstorage api constants general functions automation Ideas: Ideas not sure where make api account running 24/7 to track will use custom script chat log market history Ideas base: Make it easier to add external modules (so others can make their own) via url (in settings page) or seperate extension running or other way? easy alert/popup window Ideas modules: Market UI Market history chat ui auto replace text (e.g. you type \"selling sfish\" and it sends \"selling swordfish\") (e.g. you type \"&lt;selling&gt;\" and it sends \"selling swordfish@200k, diamond@17mil, stone@1\") other ui things? market ideas: all icons show, clicking them toggles icons in popup infinite symbol toggle all/none min only option or amount to show option (0=infinite) show all option (to temporarly overwrite) show cheapest food/fuel/bonemeal option dev tips: Example minimal module var DataAccess = { namespace: 'DataAccess', dependencies: [], init: function(){ }, } Access Redderke Utils in your own script (warning: this has not been tested yet) var main = window.redderkeUtils; Make using other modules easier by defining them as variable in your module. var Namespace = { ... _GEN: main.getModule('generalFunctions'), init: function(){ console.log(_CTE) } × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"Automation.html":{"id":"Automation.html","title":"Namespace: Automation","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Namespace: Automation Automation Automation. Source: base/automation.js, line 5 Methods &lt;static&gt; automate(delay, func) Run a function periodically. Parameters: Name Type Description delay int Delay between executions. func function The function to run periodically. Source: base/automation.js, line 53 &lt;static&gt; automateControlled(delayKey, enableKey, func [, delayMultiplier]) Run a function periodically and control it's execution and delay. The delay is in milliseconds. Parameters: Name Type Argument Default Description delayKey string The DataAccess key that contains delay amount. enableKey string The DataAccess key that contains a true/false to control execution. func function The function to run periodically. delayMultiplier int &lt;optional&gt; 1 The delay stored at the key location will be multiplied by this value. Source: base/automation.js, line 38 &lt;static&gt; init() Initialize Automation Source: base/automation.js, line 17 &lt;static&gt; onCommand(func [, command]) Run function when a specific command is called. Parameters: Name Type Argument Default Description func function A function with as parameters: (string, array) where the string is the command and the array is all command parameters. command string &lt;optional&gt; '' The command (empty string (default) is any command) Source: base/automation.js, line 66 × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"Constants.html":{"id":"Constants.html","title":"Namespace: Constants","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Namespace: Constants Constants Constants. Source: base/constants.js, line 5 Members &lt;static&gt; defaultValues These values are used by DataAccess.get(key) is no value stored for that key. Source: base/constants.js, line 16 &lt;static&gt; itemList a list of all items. format: stringId: [id, name, imageUrl]. Id is -1 if unknown. Source: base/constants.js, line 210 &lt;static&gt; marketList A list of string id's of all marketable items Source: base/constants.js, line 39 &lt;static&gt; marketTableOriginal The original marketTable element. Source: base/constants.js, line 34 Methods &lt;static&gt; init() Initialize Constants Source: base/constants.js, line 11 × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"DataAccess.html":{"id":"DataAccess.html","title":"Namespace: DataAccess","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Namespace: DataAccess DataAccess DataAccess. Source: base/dataAccess.js, line 5 Members &lt;static&gt; history_data_downloading True if the history data is being downloaded Source: base/dataAccess.js, line 13 Methods &lt;static&gt; clear(key) Clear the data stored at the key. Parameters: Name Type Description key string The key. Source: base/dataAccess.js, line 59 &lt;static&gt; clearAll() Clear all stored data. Source: base/dataAccess.js, line 66 &lt;static&gt; clearOnReload(key) Will remove data stored at the key on next load of the page. Parameters: Name Type Description key string The key. Source: base/dataAccess.js, line 78 &lt;static&gt; get(key) Retrieve data stored at the key. Parameters: Name Type Description key string The key where data is stored. Source: base/dataAccess.js, line 46 Returns: The data stored at the key. Type any &lt;static&gt; getApi(url, onload) Executes a api get call and executes the function with the XMLHttpRequest object as parameter. Parameters: Name Type Description url string The url. onload function The function to run on load. Source: base/dataAccess.js, line 117 Returns: The XMLHttpRequest object. Type XMLHttpRequest &lt;static&gt; getHistory(url, onload) Gets the history data from localStorage or api depending on key:MHVLocal Parameters: Name Type Description url string The url. onload function The function to run on load. Source: base/dataAccess.js, line 141 Returns: TODO: documentation. Type unknown &lt;static&gt; getStrIdById(id) Returns the string id linked to the number id. Parameters: Name Type Description id int The id in number format. Source: base/dataAccess.js, line 89 Returns: The id in string format. Type string &lt;static&gt; getStrIdByName(name) Returns the string id that uses this name. Parameters: Name Type Description name string The name. Source: base/dataAccess.js, line 102 Returns: The id in string format. Type string &lt;static&gt; init() Initialize DataAccess Source: base/dataAccess.js, line 19 &lt;static&gt; set(key, value) Store data at the key. Parameters: Name Type Description key string The key where data is stored. value any The value stored at the key. Source: base/dataAccess.js, line 37 × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"Dev.html":{"id":"Dev.html","title":"Namespace: Dev","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Namespace: Dev Dev Functions that are helpful when developing. Source: base/dev.js, line 5 Methods &lt;static&gt; extender(container, funcName, prepend, append) Add functionality to a function. (use window as container to extend global functions) Parameters: Name Type Description container object funcName string prepend function append function Source: base/dev.js, line 18 &lt;static&gt; logArguments(funcName) Log all arguments of a function. Parameters: Name Type Description funcName string The name of the function. Source: base/dev.js, line 34 × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"Dialog.html":{"id":"Dialog.html","title":"Namespace: Dialog","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Namespace: Dialog Dialog Description. Source: base/dialog.js, line 5 Methods &lt;static&gt; create(id, title, html) Create a new dialog. Parameters: Name Type Description id string The id to give to the dialog. title string The title of the dialog. html string The inner html of this dialog. Source: base/dialog.js, line 34 &lt;static&gt; getElement(id) Get the div that contains the html of the dialog. Parameters: Name Type Description id string The id of the dialog. Source: base/dialog.js, line 95 Returns: The body div of the dialog &lt;static&gt; init() Initialize Dialog Source: base/dialog.js, line 20 &lt;static&gt; open(id) Open a dialog. Parameters: Name Type Description id string The id of the dialog. Source: base/dialog.js, line 80 &lt;static&gt; setHTML(id, html) Change the html of the dialog. Parameters: Name Type Description id string The id of the dialog. html string The new inner html for this dialog. Source: base/dialog.js, line 63 &lt;static&gt; setTitle(id, title) Change the dialogs title. Parameters: Name Type Description id string The id of the dialog. title string The new title for the dialog. Source: base/dialog.js, line 72 × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"GeneralFunctions.html":{"id":"GeneralFunctions.html","title":"Namespace: GeneralFunctions","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Namespace: GeneralFunctions GeneralFunctions General functions. Source: base/generalFunctions.js, line 5 Methods &lt;static&gt; addCss(cssUrl) Add css to the page Parameters: Name Type Description cssUrl string The url to the css file. Source: base/generalFunctions.js, line 63 &lt;static&gt; extendFunction(container, funcName, append, prepend) Add functionality to a function. (use window as container to extend global functions) Parameters: Name Type Description container object TODO: documentation funcName string TODO: documentation append function TODO: documentation prepend function TODO: documentation Source: base/generalFunctions.js, line 146 &lt;static&gt; init() Initialize GeneralFunctions Source: base/generalFunctions.js, line 21 &lt;static&gt; runOnFirstTick() Runs the function on the first game tick (after logon). Source: base/generalFunctions.js, line 104 &lt;static&gt; runOnMarketUpdate(func, items) The given function will be ran when the market updates. Parameters: Name Type Description func function The function. items array An array of strings. The function will be run if any of these items have been updated. Source: base/generalFunctions.js, line 96 &lt;static&gt; sendNotification(title, body [, iconUrl]) Send a desktop notification. Parameters: Name Type Argument Default Description title string Title of the notification. body string Body of the notification. iconUrl string &lt;optional&gt; '' Url to icon image of notification. Source: base/generalFunctions.js, line 165 Returns: True if successful. Type boolean &lt;static&gt; setMarketPage(strId, options) Set the market page to a new item. Parameters: Name Type Description strId string The string id of the item options object TODO Source: base/generalFunctions.js, line 83 &lt;static&gt; updateHistoryData() TODO: documentation Source: base/generalFunctions.js, line 126 × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"Main.html":{"id":"Main.html","title":"Namespace: Main","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Namespace: Main Main DataAccess. Source: base/main.js, line 5 Methods &lt;static&gt; addModule(module) Add a module to the script. Load order is automatically decided during initialization. Parameters: Name Type Description module Object The module object Properties Name Type Description namespace string Namespace of the module init function Function that runs to initialize the script Source: base/main.js, line 30 &lt;static&gt; getModule(namespace) Returns module by namespace. Parameters: Name Type Description namespace string Namespace of the module. Source: base/main.js, line 115 Returns: The requested module. Type object &lt;static&gt; init() Initialize Main Source: base/main.js, line 15 &lt;static&gt; isModuleLoaded(namespace) Checks if module is loaded Parameters: Name Type Description namespace string Namespace of the module. Source: base/main.js, line 102 &lt;static&gt; isModuleLoading(namespace) Checks if module is loading Parameters: Name Type Description namespace string Namespace of the module. Source: base/main.js, line 90 × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"MarketUI.html":{"id":"MarketUI.html","title":"Namespace: MarketUI","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Namespace: MarketUI MarketUI Description. Source: modules/marketUI.js, line 5 Methods &lt;static&gt; init() Initialize MarketUI Source: modules/marketUI.js, line 17 × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"Namespace.html":{"id":"Namespace.html","title":"Namespace: Namespace","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Namespace: Namespace Namespace Description. Source: module-template.js, line 5 Methods &lt;static&gt; init() Initialize Namespace Source: module-template.js, line 18 × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"Notifications.html":{"id":"Notifications.html","title":"Namespace: Notifications","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Namespace: Notifications Notifications Description. Source: modules/notifications.js, line 5 Methods &lt;static&gt; init() Initialize Notifications Source: modules/notifications.js, line 20 × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"Settings.html":{"id":"Settings.html","title":"Namespace: Settings","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Namespace: Settings Settings Settings. Source: base/settings.js, line 5 Methods &lt;static&gt; _getSettingElement() TODO: make function and documentation Source: base/settings.js, line 44 &lt;static&gt; addCategory(category, text) Add a category to the settings table. Parameters: Name Type Description category string The category's id. text string The shown text of the category. Source: base/settings.js, line 147 &lt;static&gt; addEventListener() TODO: make function and documentation Source: base/settings.js, line 49 &lt;static&gt; addSelectorSetting() TODO: make function and documentation Source: base/settings.js, line 58 &lt;static&gt; addSetting(options) Add a setting to the settings table. Parameters: Name Type Description options Object Properties Name Type Argument Default Description type string &lt;optional&gt; 'checkbox' See HTML input types. (TODO: type file not done yet) category string Category to put the setting under. key string The key where the value is stored. text string &lt;optional&gt; '' The description. defaultValue string &lt;optional&gt; '' Default value. buttonText string &lt;optional&gt; 'show' Text inside button. onChange string &lt;optional&gt; ()=&gt;{} Function to call on change of the value or button click. imageUrl string &lt;optional&gt; '' Url to image for input element. style string &lt;optional&gt; '' Custom style for the row element. Source: base/settings.js, line 75 &lt;static&gt; init() Initialize Settings Source: base/settings.js, line 28 × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "},"Test.html":{"id":"Test.html","title":"Namespace: Test","body":" DH2 Namespaces AutomationConstantsDataAccessDevDialogGeneralFunctionsMainMarketUINamespaceNotificationsSettingsTest Namespace: Test Test For testing purposes. Source: base/test.js, line 5 Methods &lt;static&gt; init() Initialize Test Source: base/test.js, line 18 × Search results Close Documentation generated by JSDoc 3.6.3 on Mon Apr 13th 2020 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
